#!/usr/bin/env python3
"""
åˆ†æSN0-ZN0 2024å¹´4æœˆäº¤æ˜“æŸå¤±åŸå› 
"""

def analyze_sn_zn_trade_loss():
    """åˆ†æSN0-ZN0äº¤æ˜“æŸå¤±çš„è¯¦ç»†åŸå› """
    
    print("=== SN0-ZN0 äº¤æ˜“æŸå¤±åˆ†æ (2024-04-19è‡³04-23) ===\n")
    
    # ä»AkShareè·å–çš„å®é™…ä»·æ ¼æ•°æ®
    sn0_prices = {
        "2024-04-19": 272560.0,
        "2024-04-22": 276010.0, 
        "2024-04-23": 254040.0
    }
    
    zn0_prices = {
        "2024-04-19": 22740.0,
        "2024-04-22": 22535.0,
        "2024-04-23": 22270.0  
    }
    
    # è®¡ç®—ä»·æ ¼å˜åŒ–
    print("ğŸ“Š å®é™…ä»·æ ¼å˜åŒ–æƒ…å†µ:")
    print(f"SN0: {sn0_prices['2024-04-19']} â†’ {sn0_prices['2024-04-23']}")
    sn0_change = (sn0_prices['2024-04-23'] - sn0_prices['2024-04-19']) / sn0_prices['2024-04-19'] * 100
    print(f"SN0æ€»å˜åŒ–: {sn0_change:.2f}%")
    
    print(f"ZN0: {zn0_prices['2024-04-19']} â†’ {zn0_prices['2024-04-23']}")  
    zn0_change = (zn0_prices['2024-04-23'] - zn0_prices['2024-04-19']) / zn0_prices['2024-04-19'] * 100
    print(f"ZN0æ€»å˜åŒ–: {zn0_change:.2f}%")
    
    # åˆ†æå•æ—¥æœ€å¤§è·Œå¹…
    print(f"\nâš ï¸  å…³é”®å‘ç°:")
    sn0_single_day_drop = (sn0_prices['2024-04-23'] - sn0_prices['2024-04-22']) / sn0_prices['2024-04-22'] * 100
    print(f"SN0åœ¨2024-04-23å•æ—¥è·Œå¹…: {sn0_single_day_drop:.2f}%")
    
    zn0_single_day_drop = (zn0_prices['2024-04-23'] - zn0_prices['2024-04-22']) / zn0_prices['2024-04-22'] * 100
    print(f"ZN0åœ¨2024-04-23å•æ—¥è·Œå¹…: {zn0_single_day_drop:.2f}%")
    
    # åˆ†æä»·å·®å˜åŒ–
    print(f"\nğŸ“ˆ ä»·å·®åˆ†æï¼ˆå‡è®¾long spread: long SN0, short ZN0ï¼‰:")
    
    # è®¡ç®—å½’ä¸€åŒ–ä»·æ ¼ï¼ˆä»¥4-19ä¸ºåŸºå‡†ï¼‰
    sn0_norm_19 = 1.0
    sn0_norm_23 = sn0_prices['2024-04-23'] / sn0_prices['2024-04-19']
    
    zn0_norm_19 = 1.0  
    zn0_norm_23 = zn0_prices['2024-04-23'] / zn0_prices['2024-04-19']
    
    # Long spread = Long SN0 - Short ZN0
    # å½“SN0ä¸‹è·Œæ›´å¤šæˆ–ZN0ä¸Šæ¶¨æ›´å¤šæ—¶ï¼Œlong spreadäºæŸ
    print(f"SN0å½’ä¸€åŒ–: 1.000 â†’ {sn0_norm_23:.3f}")
    print(f"ZN0å½’ä¸€åŒ–: 1.000 â†’ {zn0_norm_23:.3f}")
    
    spread_change = (sn0_norm_23 - sn0_norm_19) - (zn0_norm_23 - zn0_norm_19)
    print(f"Price spreadå˜åŒ–: {spread_change:.3f}")
    
    # ç»“è®ºåˆ†æ
    print(f"\nğŸ¯ æŸå¤±åŸå› åˆ†æ:")
    print(f"1. SN0å¤§å¹…ä¸‹è·Œ-6.79%ï¼Œç‰¹åˆ«æ˜¯4æœˆ23æ—¥å•æ—¥æš´è·Œ-7.96%")
    print(f"2. ZN0ç›¸å¯¹ç¨³å®šï¼Œä»…ä¸‹è·Œ-2.07%")  
    print(f"3. Long SN0 Short ZN0çš„ä»·å·®å¤§å¹…æ”¶çª„")
    print(f"4. è¿™æ˜¯çœŸå®çš„å¸‚åœºé£é™©ï¼Œéåˆçº¦æ¢æœˆé€ æˆ")
    
    print(f"\nâœ… è¿™ä¸æ˜¯åˆçº¦æ¢æœˆé—®é¢˜ï¼Œè€Œæ˜¯:")
    print(f"   â€¢ çœŸå®çš„å¸‚åœºæ³¢åŠ¨")
    print(f"   â€¢ SN0(æ²ªé”¡)ç›¸å¯¹ZN0(æ²ªé”Œ)çš„åŸºæœ¬é¢æ¶åŒ–") 
    print(f"   â€¢ æ­¢æŸæœºåˆ¶é¢ä¸´ä»·æ ¼è·³ç©ºæ— æ³•æœ‰æ•ˆæ§åˆ¶")
    
    print(f"\nâš ï¸  æ­¢æŸå¤±æ•ˆåŸå› :")
    print(f"   â€¢ SN0å•æ—¥è·Œå¹…-7.96%è¿œè¶…æ—¥å¸¸æ³¢åŠ¨")
    print(f"   â€¢ å¼€ç›˜å³è·³ç©ºï¼Œæ— æ³•åœ¨10%æ­¢æŸç‚¹ä½æˆäº¤")
    print(f"   â€¢ è¿™ç§æƒ…å†µä¸‹æ­¢æŸæœºåˆ¶å¤©ç„¶å¤±æ•ˆ")

if __name__ == "__main__":
    analyze_sn_zn_trade_loss()