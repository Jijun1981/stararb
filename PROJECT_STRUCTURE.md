# é¡¹ç›®ç»“æ„è§„èŒƒ

## æ›´æ–°æ—¥æœŸ
2025-08-23

## ç›®å½•ç»“æ„è¯¦ç»†è¯´æ˜

æ ¹æ®å®é™…é¡¹ç›®ç»“æ„æ•´ç†ï¼Œæ˜ç¡®æ¯ä¸ªç›®å½•çš„ç”¨é€”å’Œæ–‡ä»¶æ”¾ç½®åŸåˆ™ã€‚

```
Star-arb/                    # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ lib/                     # âœ… æ ¸å¿ƒåº“ - ç¨³å®šçš„ç”Ÿäº§ä»£ç 
â”‚   â”œâ”€â”€ __init__.py          # æ¨¡å—åˆå§‹åŒ–
â”‚   â”œâ”€â”€ data.py              # æ•°æ®ç®¡ç†æ¨¡å—ï¼ˆæ”¯æŒdata-jointæºï¼‰
â”‚   â”œâ”€â”€ coint.py             # åæ•´åˆ†ææ¨¡å—ï¼ˆEngle-Grangerï¼‰
â”‚   â”œâ”€â”€ signal_generation.py # ä¿¡å·ç”Ÿæˆæ¨¡å—ï¼ˆKalmanæ»¤æ³¢+çŠ¶æ€æœºï¼‰
â”‚   â””â”€â”€ backtest.py          # å›æµ‹å¼•æ“æ¨¡å—
â”‚
â”œâ”€â”€ scripts/                 # âœ… å¯æ‰§è¡Œè„šæœ¬ - æŒ‰åŠŸèƒ½åˆ†ç±»
â”‚   â”œâ”€â”€ data/               # æ•°æ®ç®¡ç†è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ convert_jq_to_parquet.py  # æ•°æ®æ ¼å¼è½¬æ¢
â”‚   â”‚   â””â”€â”€ update_futures_data.py   # æœŸè´§æ•°æ®æ›´æ–°
â”‚   â”‚
â”‚   â”œâ”€â”€ analysis/           # åˆ†æè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ check_complete_calculation_logic.py
â”‚   â”‚   â”œâ”€â”€ compare_screening_modes.py
â”‚   â”‚   â”œâ”€â”€ debug_beta_calculation.py
â”‚   â”‚   â”œâ”€â”€ run_parameterized_cointegration_screening.py
â”‚   â”‚   â”œâ”€â”€ verify_beta_direction.py
â”‚   â”‚   â””â”€â”€ verify_ols_beta_calculation.py
â”‚   â”‚
â”‚   â”œâ”€â”€ backtest/           # å›æµ‹æ‰§è¡Œè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ run_backtest_v4.py
â”‚   â”‚   â””â”€â”€ test_backtest_v4.py
â”‚   â”‚
â”‚   â”œâ”€â”€ pipeline/           # å®Œæ•´æµç¨‹è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ run_complete_pipeline.py        # V1ç‰ˆæœ¬ï¼ˆå…¼å®¹ï¼‰
â”‚   â”‚   â”œâ”€â”€ run_complete_pipeline_v2.py     # V2ç‰ˆæœ¬ï¼ˆç¨³å®šï¼‰
â”‚   â”‚   â”œâ”€â”€ run_complete_pipeline_v2_1.py   # V2.1ç‰ˆæœ¬ï¼ˆæœ€æ–°ï¼‰
â”‚   â”‚   â”œâ”€â”€ run_complete_pipeline_shifted.py
â”‚   â”‚   â”œâ”€â”€ run_ols_rolling_pipeline.py
â”‚   â”‚   â”œâ”€â”€ e2e_pipeline.py
â”‚   â”‚   â””â”€â”€ e2e_pipeline_clean.py
â”‚   â”‚
â”‚   â”œâ”€â”€ signals/            # ä¿¡å·ç”Ÿæˆè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ generate_ols_rolling_signals.py
â”‚   â”‚   â”œâ”€â”€ signal_generation_test.py
â”‚   â”‚   â””â”€â”€ test_with_real_data.py
â”‚   â”‚
â”‚   â”œâ”€â”€ validation/         # éªŒè¯å’Œæ¯”è¾ƒè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ compare_backtest_versions.py
â”‚   â”‚   â”œâ”€â”€ compare_filtered_sets.py
â”‚   â”‚   â”œâ”€â”€ consistency_check.py
â”‚   â”‚   â”œâ”€â”€ test_pipeline_v21_calculations.py
â”‚   â”‚   â”œâ”€â”€ validate_coint_algorithms.py
â”‚   â”‚   â”œâ”€â”€ verify_backtest_algorithms.py
â”‚   â”‚   â”œâ”€â”€ verify_cointegration_algorithms.py
â”‚   â”‚   â”œâ”€â”€ verify_data_status.py
â”‚   â”‚   â”œâ”€â”€ verify_lots_direction.py
â”‚   â”‚   â””â”€â”€ verify_signal_generation_algorithms.py
â”‚   â”‚
â”‚   â”œâ”€â”€ joinquant/          # èšå®½æ•°æ®è·å–è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ fetch_8888_data.py
â”‚   â”‚   â””â”€â”€ fetch_jq_data.py
â”‚   â”‚
â”‚   â””â”€â”€ å…¶ä»–è°ƒè¯•è„šæœ¬/        # ä¸´æ—¶è°ƒè¯•å’Œæµ‹è¯•è„šæœ¬
â”‚       â”œâ”€â”€ debug_signal_systematic.py
â”‚       â”œâ”€â”€ test_complete_pipeline_clear_states.py
â”‚       â”œâ”€â”€ debug_backtest_execution.py
â”‚       â””â”€â”€ debug_signal_generation.py
â”‚
â”œâ”€â”€ notebooks/              # âœ… Jupyter Notebooks - äº¤äº’å¼åˆ†æ
â”‚   â”œâ”€â”€ 00_test_akshare.ipynb           # AkShareæ¥å£æµ‹è¯•
â”‚   â”œâ”€â”€ 01_data_management.ipynb        # æ•°æ®ç®¡ç†æ¼”ç¤º
â”‚   â”œâ”€â”€ 02_cointegration_complete.ipynb # åæ•´åˆ†ææ¼”ç¤º
â”‚   â”œâ”€â”€ 04_strategy_demo.ipynb          # ç­–ç•¥æ¼”ç¤º
â”‚   â”œâ”€â”€ 05_backtest_analysis.ipynb      # å›æµ‹åˆ†æ
â”‚   â”œâ”€â”€ 05_backtest_real_multipliers.ipynb
â”‚   â”œâ”€â”€ 05_detailed_backtest_analysis.ipynb
â”‚   â”œâ”€â”€ 05_enhanced_backtest_analysis.ipynb
â”‚   â””â”€â”€ 06_new_beta_backtest.ipynb
â”‚
â”œâ”€â”€ tests/                  # âœ… æµ‹è¯•ä»£ç  - åˆ†å±‚æ¬¡æµ‹è¯•
â”‚   â”œâ”€â”€ unit/              # å•å…ƒæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_backtest.py              # å›æµ‹æ¨¡å—æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_backtest_core.py
â”‚   â”‚   â”œâ”€â”€ test_backtest_tdd.py
â”‚   â”‚   â”œâ”€â”€ test_coint.py                 # åæ•´æ¨¡å—æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_coint_final.py
â”‚   â”‚   â”œâ”€â”€ test_coint_v3.py
â”‚   â”‚   â”œâ”€â”€ test_coint_v4_parameterized.py
â”‚   â”‚   â”œâ”€â”€ test_data.py                  # æ•°æ®æ¨¡å—æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_data_v3.py
â”‚   â”‚   â”œâ”€â”€ test_signal_generation.py     # ä¿¡å·ç”Ÿæˆæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_signal_state_machine.py  # çŠ¶æ€æœºæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_signal_tdd.py
â”‚   â”‚   â””â”€â”€ verify_calculations.py
â”‚   â”‚
â”‚   â”œâ”€â”€ integration/       # é›†æˆæµ‹è¯•
â”‚   â”‚   â””â”€â”€ test_incremental_update.py
â”‚   â”‚
â”‚   â”œâ”€â”€ acceptance/        # éªŒæ”¶æµ‹è¯•
â”‚   â”‚   â””â”€â”€ test_e2e_pipeline.py
â”‚   â”‚
â”‚   â””â”€â”€ test_xy_consistency.py  # é…å¯¹ä¸€è‡´æ€§æµ‹è¯•
â”‚
â”œâ”€â”€ data/                   # âœ… æ•°æ®æ–‡ä»¶ - åˆ†ç±»å­˜å‚¨
â”‚   â”œâ”€â”€ data-joint/        # èšå®½8888ä¸»åŠ›è¿ç»­åˆçº¦æ•°æ®ï¼ˆæºæ•°æ®ï¼‰
â”‚   â”‚   â”œâ”€â”€ jq_8888_AG.csv      # ç™½é“¶æ•°æ®
â”‚   â”‚   â”œâ”€â”€ jq_8888_AL.csv      # é“æ•°æ®
â”‚   â”‚   â”œâ”€â”€ jq_8888_AU.csv      # é»„é‡‘æ•°æ®
â”‚   â”‚   â”œâ”€â”€ jq_8888_CU.csv      # é“œæ•°æ®
â”‚   â”‚   â”œâ”€â”€ jq_8888_HC.csv      # çƒ­å·æ•°æ®
â”‚   â”‚   â”œâ”€â”€ jq_8888_I.csv       # é“çŸ¿çŸ³æ•°æ®
â”‚   â”‚   â”œâ”€â”€ jq_8888_NI.csv      # é•æ•°æ®
â”‚   â”‚   â”œâ”€â”€ jq_8888_PB.csv      # é“…æ•°æ®
â”‚   â”‚   â”œâ”€â”€ jq_8888_RB.csv      # èºçº¹é’¢æ•°æ®
â”‚   â”‚   â”œâ”€â”€ jq_8888_SF.csv      # ç¡…é“æ•°æ®
â”‚   â”‚   â”œâ”€â”€ jq_8888_SM.csv      # é”°ç¡…æ•°æ®
â”‚   â”‚   â”œâ”€â”€ jq_8888_SN.csv      # é”¡æ•°æ®
â”‚   â”‚   â”œâ”€â”€ jq_8888_SS.csv      # ä¸é”ˆé’¢æ•°æ®
â”‚   â”‚   â””â”€â”€ jq_8888_ZN.csv      # é”Œæ•°æ®
â”‚   â”‚
â”‚   â”œâ”€â”€ cache/             # ç¼“å­˜æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
â”‚   â””â”€â”€ update_log.csv     # æ•°æ®æ›´æ–°æ—¥å¿—
â”‚
â”œâ”€â”€ configs/               # âœ… é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ business.yaml      # ä¸šåŠ¡å‚æ•°é…ç½®
â”‚   â””â”€â”€ contract_specs.json # åˆçº¦è§„æ ¼é…ç½®
â”‚
â”œâ”€â”€ output/                # âŒ è¾“å‡ºç»“æœï¼ˆä¸å…¥ç‰ˆæœ¬æ§åˆ¶ï¼‰
â”‚   â”œâ”€â”€ cointegration/    # åæ•´åˆ†æç»“æœ
â”‚   â”‚   â”œâ”€â”€ verification/  # ç®—æ³•éªŒè¯ç»“æœ
â”‚   â”‚   â””â”€â”€ results/      # é…å¯¹ç­›é€‰ç»“æœ
â”‚   â”‚
â”‚   â”œâ”€â”€ backtest/         # å›æµ‹ç»“æœ
â”‚   â”‚   â”œâ”€â”€ equity_*.csv        # æƒç›Šæ›²çº¿
â”‚   â”‚   â””â”€â”€ trades_*.csv        # äº¤æ˜“è®°å½•
â”‚   â”‚
â”‚   â”œâ”€â”€ pipeline_v21/     # V2.1æµç¨‹è¾“å‡º
â”‚   â”‚   â”œâ”€â”€ cointegrated_pairs_*.csv # åæ•´é…å¯¹
â”‚   â”‚   â”œâ”€â”€ signals_*.csv           # ä¿¡å·è®°å½•  
â”‚   â”‚   â”œâ”€â”€ trades_*.csv            # äº¤æ˜“è®°å½•
â”‚   â”‚   â””â”€â”€ pipeline_report_*.json  # æµç¨‹æŠ¥å‘Š
â”‚   â”‚
â”‚   â”œâ”€â”€ pipeline_shifted/ # ç§»åŠ¨çª—å£æµç¨‹è¾“å‡º
â”‚   â”œâ”€â”€ ols_rolling_*/    # OLSæ»šåŠ¨çª—å£è¾“å‡º
â”‚   â”œâ”€â”€ e2e/              # ç«¯åˆ°ç«¯æµ‹è¯•è¾“å‡º
â”‚   â”œâ”€â”€ beta_analysis/    # Betaåˆ†æç»“æœ
â”‚   â”œâ”€â”€ kalman_analysis/  # Kalmanæ»¤æ³¢åˆ†æ
â”‚   â””â”€â”€ tests/            # æµ‹è¯•è¾“å‡ºç»“æœ
â”‚
â”œâ”€â”€ docs/                  # âœ… æ–‡æ¡£ - éœ€æ±‚å’Œæ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ API.md            # APIæ¥å£æ–‡æ¡£
â”‚   â”œâ”€â”€ ARCHITECTURE.md   # ç³»ç»Ÿæ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ backtest_framework_summary.md # å›æµ‹æ¡†æ¶æ€»ç»“
â”‚   â”œâ”€â”€ traceability.yaml # éœ€æ±‚è¿½è¸ªçŸ©é˜µ
â”‚   â””â”€â”€ Requrements/      # éœ€æ±‚æ–‡æ¡£ï¼ˆæ ¸å¿ƒï¼‰
â”‚       â”œâ”€â”€ 00_requirements_overview.md    # éœ€æ±‚æ€»è§ˆ
â”‚       â”œâ”€â”€ 01_data_management.md          # æ•°æ®ç®¡ç†éœ€æ±‚
â”‚       â”œâ”€â”€ 02_cointegration_pairing.md    # åæ•´é…å¯¹éœ€æ±‚
â”‚       â”œâ”€â”€ 03_signal_generation.md        # ä¿¡å·ç”Ÿæˆéœ€æ±‚
â”‚       â””â”€â”€ 04_backtest_framework.md       # å›æµ‹æ¡†æ¶éœ€æ±‚
â”‚
â”œâ”€â”€ backup/               # âŒ å¤‡ä»½æ–‡ä»¶ï¼ˆä¸å…¥ç‰ˆæœ¬æ§åˆ¶ï¼‰
â”‚   â”œâ”€â”€ README.md             # å¤‡ä»½è¯´æ˜
â”‚   â”œâ”€â”€ beta_estimation/      # Betaä¼°è®¡æ–¹æ³•å¤‡ä»½
â”‚   â”œâ”€â”€ lib_cleanup/          # æ¸…ç†æ‰çš„æ—§åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ lib_original/         # åŸå§‹åº“æ–‡ä»¶ç‰ˆæœ¬
â”‚   â””â”€â”€ notebooks_original/   # åŸå§‹notebookå¤‡ä»½
â”‚
â”œâ”€â”€ logs/                 # âŒ æ—¥å¿—æ–‡ä»¶ï¼ˆä¸å…¥ç‰ˆæœ¬æ§åˆ¶ï¼‰
â”œâ”€â”€ models/               # æ¨¡å‹æ–‡ä»¶ï¼ˆå¦‚æœ‰ï¼‰
â”œâ”€â”€ reports/              # æŠ¥å‘Šè¾“å‡ºç›®å½•
â”œâ”€â”€ results/              # ç»“æœæ–‡ä»¶
â”œâ”€â”€ test_reports/         # âœ… æµ‹è¯•æŠ¥å‘Š
â”‚   â””â”€â”€ data_management_test_*.json  # æ•°æ®ç®¡ç†æµ‹è¯•æŠ¥å‘Š
â”‚
â”œâ”€â”€ cointegration_results.csv        # âœ… åæ•´åˆ†æç»“æœï¼ˆæ ¹ç›®å½•ï¼‰
â”œâ”€â”€ signals_complete_pipeline_*.csv # âœ… å®Œæ•´æµç¨‹ä¿¡å·è¾“å‡ºï¼ˆæ ¹ç›®å½•ï¼‰
â”œâ”€â”€ backtest_trades_*.csv          # å›æµ‹äº¤æ˜“è®°å½•ï¼ˆæ ¹ç›®å½•ï¼‰
â”œâ”€â”€ debug_*.csv                    # è°ƒè¯•è¾“å‡ºæ–‡ä»¶ï¼ˆæ ¹ç›®å½•ï¼‰
â”œâ”€â”€ signals_test.csv               # æµ‹è¯•ä¿¡å·æ–‡ä»¶ï¼ˆæ ¹ç›®å½•ï¼‰
â”‚
â”œâ”€â”€ CLAUDE.md                      # âœ… Claude AIé¡¹ç›®æŒ‡ä»¤
â”œâ”€â”€ PROJECT_STRUCTURE.md           # âœ… æœ¬æ–‡ä»¶ - é¡¹ç›®ç»“æ„è¯´æ˜
â””â”€â”€ requirements.txt               # Pythonä¾èµ–ç®¡ç†ï¼ˆå¦‚æœ‰ï¼‰
```

## ğŸ“ æ–‡ä»¶æ”¾ç½®æŒ‡å—

### âœ… ä»€ä¹ˆæ”¾åœ¨ `lib/` ï¼ˆæ ¸å¿ƒåº“ï¼‰
**ç”¨é€”ï¼š** ç¨³å®šã€ç»è¿‡æµ‹è¯•ã€è¢«å¤šå¤„å¤ç”¨çš„ç”Ÿäº§ä»£ç 

**åº”è¯¥æ”¾å…¥ï¼š**
- âœ… ç»è¿‡å……åˆ†æµ‹è¯•çš„ç®—æ³•å®ç°
- âœ… è¢«å¤šä¸ªè„šæœ¬å¤ç”¨çš„åŠŸèƒ½æ¨¡å—  
- âœ… æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆæ•°æ®ç®¡ç†ã€åæ•´åˆ†æã€ä¿¡å·ç”Ÿæˆã€å›æµ‹å¼•æ“ï¼‰
- âœ… æœ‰å®Œæ•´æ–‡æ¡£å’Œç±»å‹æ³¨è§£çš„ä»£ç 

**ä¸åº”è¯¥æ”¾å…¥ï¼š**
- âŒ å®éªŒæ€§ä»£ç æˆ–åŸå‹
- âŒ ä¸€æ¬¡æ€§ä½¿ç”¨çš„è„šæœ¬
- âŒ è°ƒè¯•å’Œæµ‹è¯•ä»£ç 
- âŒ ç‰¹å®šåˆ†æä»»åŠ¡çš„ä»£ç 

**ç°æœ‰æ¨¡å—ï¼š**
- `data.py` - æ•°æ®ç®¡ç†ï¼ˆæ”¯æŒdata-joint CSVæºï¼‰
- `coint.py` - åæ•´åˆ†æï¼ˆEngle-Grangeræ£€éªŒï¼‰
- `signal_generation.py` - ä¿¡å·ç”Ÿæˆï¼ˆKalmanæ»¤æ³¢+çŠ¶æ€æœºï¼‰
- `backtest.py` - å›æµ‹å¼•æ“

### âœ… ä»€ä¹ˆæ”¾åœ¨ `scripts/` ï¼ˆå¯æ‰§è¡Œè„šæœ¬ï¼‰
**ç”¨é€”ï¼š** æŒ‰åŠŸèƒ½åˆ†ç±»çš„å¯æ‰§è¡ŒPythonè„šæœ¬

**åˆ†ç±»åŸåˆ™ï¼š**
- `data/` - æ•°æ®è·å–ã€è½¬æ¢ã€æ›´æ–°è„šæœ¬
- `analysis/` - å„ç§åˆ†æä»»åŠ¡ï¼ˆåæ•´ã€Betaã€ç®—æ³•éªŒè¯ç­‰ï¼‰
- `backtest/` - å›æµ‹æ‰§è¡Œè„šæœ¬
- `pipeline/` - ç«¯åˆ°ç«¯å®Œæ•´æµç¨‹è„šæœ¬
- `signals/` - ä¿¡å·ç”Ÿæˆç›¸å…³è„šæœ¬
- `validation/` - éªŒè¯ã€æ¯”è¾ƒã€æµ‹è¯•è„šæœ¬
- `joinquant/` - æ•°æ®æºç‰¹å®šè„šæœ¬

**å‘½åè§„èŒƒï¼š**
- ä»¥åŠ¨è¯å¼€å¤´ï¼š`run_`, `generate_`, `compare_`, `verify_`, `debug_`
- æè¿°å…·ä½“åŠŸèƒ½ï¼š`run_complete_pipeline_v2_1.py`

### âœ… ä»€ä¹ˆæ”¾åœ¨ `notebooks/` ï¼ˆäº¤äº’å¼åˆ†æï¼‰
**ç”¨é€”ï¼š** Jupyter Notebooksç”¨äºäº¤äº’å¼æ•°æ®æ¢ç´¢å’Œæ¼”ç¤º

**åº”è¯¥æ”¾å…¥ï¼š**
- âœ… æ•°æ®æ¢ç´¢å’Œå¯è§†åŒ–åˆ†æ
- âœ… ç®—æ³•åŸå‹éªŒè¯å’Œæ¼”ç¤º
- âœ… æ•™å­¦å’Œè¯´æ˜æ€§å†…å®¹
- âœ… äº¤äº’å¼å‚æ•°è°ƒè¯•

**ä¸åº”è¯¥æ”¾å…¥ï¼š**
- âŒ ç”Ÿäº§ç¯å¢ƒä»£ç 
- âŒ æ‰¹é‡å¤„ç†è„šæœ¬
- âŒ è‡ªåŠ¨åŒ–æµç¨‹ä»£ç 

**ç¼–å·è§„èŒƒï¼š** `ç¼–å·_åŠŸèƒ½æè¿°.ipynb`

### âœ… ä»€ä¹ˆæ”¾åœ¨ `tests/` ï¼ˆæµ‹è¯•ä»£ç ï¼‰
**ç”¨é€”ï¼š** åˆ†å±‚æ¬¡çš„æµ‹è¯•ä»£ç 

**åˆ†å±‚ç»“æ„ï¼š**
- `unit/` - å•å…ƒæµ‹è¯•ï¼ˆæµ‹è¯•å•ä¸ªæ¨¡å—å‡½æ•°ï¼‰
- `integration/` - é›†æˆæµ‹è¯•ï¼ˆæµ‹è¯•æ¨¡å—é—´åä½œï¼‰
- `acceptance/` - éªŒæ”¶æµ‹è¯•ï¼ˆæµ‹è¯•å®Œæ•´ä¸šåŠ¡æµç¨‹ï¼‰

**å‘½åè§„èŒƒï¼š** `test_` å¼€å¤´

### ğŸ“Š ä»€ä¹ˆæ”¾åœ¨ `data/` ï¼ˆæ•°æ®æ–‡ä»¶ï¼‰
**ç”¨é€”ï¼š** å„ç±»æ•°æ®æ–‡ä»¶çš„åˆ†ç±»å­˜å‚¨

**ç»“æ„è¯´æ˜ï¼š**
- `data-joint/` - èšå®½æºæ•°æ®ï¼ˆ14ä¸ªå“ç§CSVï¼‰
- `cache/` - ä¸´æ—¶ç¼“å­˜æ–‡ä»¶
- `update_log.csv` - æ•°æ®æ›´æ–°æ—¥å¿—

**æ³¨æ„ï¼š** å¤§æ•°æ®æ–‡ä»¶ä¸å…¥ç‰ˆæœ¬æ§åˆ¶

### ğŸ“„ ä»€ä¹ˆæ”¾åœ¨ `docs/` ï¼ˆæ–‡æ¡£ï¼‰
**ç”¨é€”ï¼š** é¡¹ç›®æ–‡æ¡£å’Œéœ€æ±‚è§„èŒƒ

**æ ¸å¿ƒæ–‡æ¡£ï¼š**
- `Requrements/` - 4ä¸ªæ ¸å¿ƒéœ€æ±‚æ–‡æ¡£ï¼ˆæ•°æ®ç®¡ç†ã€åæ•´é…å¯¹ã€ä¿¡å·ç”Ÿæˆã€å›æµ‹æ¡†æ¶ï¼‰
- `API.md` - æ¥å£æ–‡æ¡£
- `ARCHITECTURE.md` - æ¶æ„æ–‡æ¡£
- `traceability.yaml` - éœ€æ±‚è¿½è¸ª

## ğŸƒâ€â™‚ï¸ å¸¸ç”¨å‘½ä»¤å’Œå·¥ä½œæµ

### å¿«é€Ÿå¼€å§‹å‘½ä»¤

```bash
# è¿è¡Œæœ€æ–°å®Œæ•´æµç¨‹ï¼ˆæ¨èï¼‰
python3 scripts/pipeline/run_complete_pipeline_v2_1.py

# è¿è¡Œç¨³å®šç‰ˆæœ¬æµç¨‹
python3 scripts/pipeline/run_complete_pipeline_v2.py

# è¿è¡Œå…¼å®¹ç‰ˆæœ¬æµç¨‹
python3 scripts/pipeline/run_complete_pipeline.py

# æµ‹è¯•çŠ¶æ€æœºæ¸…æ™°ç‰ˆæœ¬
python3 scripts/test_complete_pipeline_clear_states.py

# è¿è¡Œå•å…ƒæµ‹è¯•
pytest tests/unit/

# è¿è¡ŒçŠ¶æ€æœºæµ‹è¯•
pytest tests/unit/test_signal_state_machine.py -v
```

### æ–‡ä»¶å¯»æ‰¾æŒ‡å—

**ğŸ” æˆ‘è¦æ‰¾...**

| éœ€æ±‚ | ä½ç½® | å…·ä½“æ–‡ä»¶ |
|------|------|----------|
| æ ¸å¿ƒç®—æ³•å®ç° | `lib/` | `data.py`, `coint.py`, `signal_generation.py`, `backtest.py` |
| è¿è¡Œå®Œæ•´æµç¨‹ | `scripts/pipeline/` | `run_complete_pipeline_v2_1.py` |
| åæ•´åˆ†æè„šæœ¬ | `scripts/analysis/` | `run_parameterized_cointegration_screening.py` |
| ä¿¡å·ç”Ÿæˆè„šæœ¬ | `scripts/signals/` | `generate_ols_rolling_signals.py` |
| è°ƒè¯•ä¿¡å·é—®é¢˜ | `scripts/` | `debug_signal_systematic.py` |
| éªŒè¯ç®—æ³•æ­£ç¡®æ€§ | `scripts/validation/` | `verify_*.py` |
| æ•°æ®ç®¡ç†æ¼”ç¤º | `notebooks/` | `01_data_management.ipynb` |
| åæ•´åˆ†ææ¼”ç¤º | `notebooks/` | `02_cointegration_complete.ipynb` |
| éœ€æ±‚æ–‡æ¡£ | `docs/Requrements/` | `03_signal_generation.md` |
| æµ‹è¯•çŠ¶æ€æœº | `tests/unit/` | `test_signal_state_machine.py` |
| è¾“å‡ºç»“æœæŸ¥çœ‹ | `output/pipeline_v21/` | `signals_*.csv`, `trades_*.csv` |
| åæ•´ç»“æœ | æ ¹ç›®å½• | `cointegration_results.csv` |
| æœ€æ–°ä¿¡å·æ–‡ä»¶ | æ ¹ç›®å½• | `signals_complete_pipeline_*.csv` |

### ç‰ˆæœ¬æ§åˆ¶åŸåˆ™

**âœ… åº”è¯¥æäº¤åˆ°Gitï¼š**
- æ‰€æœ‰æºä»£ç ï¼ˆ`lib/`, `scripts/`, `tests/`ï¼‰
- é…ç½®æ–‡ä»¶ï¼ˆ`configs/`ï¼‰
- æ–‡æ¡£ï¼ˆ`docs/`, `*.md`ï¼‰
- Notebooksï¼ˆ`notebooks/`ï¼‰

**âŒ ä¸åº”è¯¥æäº¤åˆ°Gitï¼š**
- å¤§æ•°æ®æ–‡ä»¶ï¼ˆ`data/`ä¸­çš„CSVï¼‰
- è¾“å‡ºç»“æœï¼ˆ`output/`ï¼‰
- æ—¥å¿—æ–‡ä»¶ï¼ˆ`logs/`ï¼‰
- ç¼“å­˜æ–‡ä»¶ï¼ˆ`__pycache__/`, `*.pyc`ï¼‰
- æ ¹ç›®å½•ä¸‹çš„ç»“æœCSVæ–‡ä»¶

## ğŸ“ å¼€å‘æœ€ä½³å®è·µ

### æ–°åŠŸèƒ½å¼€å‘æµç¨‹

```bash
# 1. åœ¨notebookä¸­éªŒè¯ç®—æ³•åŸå‹
notebooks/xx_new_feature_prototype.ipynb

# 2. ç®—æ³•ç¨³å®šåï¼Œæå–åˆ°libæ¨¡å—
lib/new_feature_module.py

# 3. ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯
tests/unit/test_new_feature_module.py

# 4. åˆ›å»ºæ‰§è¡Œè„šæœ¬
scripts/category/run_new_feature.py

# 5. æ›´æ–°æ–‡æ¡£
docs/API.md  # å¦‚æœæœ‰æ–°çš„æ¥å£
```

### æ–‡ä»¶å‘½åè§„èŒƒ

**Pythonæ–‡ä»¶ï¼š**
- **åº“æ¨¡å—** (`lib/`)ï¼šå°å†™+ä¸‹åˆ’çº¿ï¼Œå¦‚ `signal_generation.py`
- **è„šæœ¬** (`scripts/`)ï¼šåŠ¨è¯å¼€å¤´ï¼Œå¦‚ `run_complete_pipeline_v2_1.py`
- **æµ‹è¯•** (`tests/`)ï¼š`test_` å¼€å¤´ï¼Œå¦‚ `test_signal_state_machine.py`
- **Notebooks**ï¼šç¼–å·+åŠŸèƒ½ï¼Œå¦‚ `01_data_management.ipynb`

**æ•°æ®æ–‡ä»¶ï¼š**
- **ä¿¡å·æ–‡ä»¶**ï¼š`signals_complete_pipeline_20250823_212252.csv`
- **åæ•´ç»“æœ**ï¼š`cointegration_results.csv`
- **äº¤æ˜“è®°å½•**ï¼š`backtest_trades_20250823_195509.csv`
- **è°ƒè¯•æ–‡ä»¶**ï¼š`debug_AU_ZN_signals.csv`

### ä»£ç è¿ç§»æŒ‡å—

**ä½•æ—¶å°†è„šæœ¬ä»£ç è¿ç§»åˆ°libï¼š**
1. ä»£ç åœ¨å¤šä¸ªåœ°æ–¹è¢«å¤ç”¨
2. ç®—æ³•ç»è¿‡å……åˆ†æµ‹è¯•éªŒè¯
3. ä»£ç ç¨³å®šä¸”ä¸å†é¢‘ç¹ä¿®æ”¹
4. æœ‰å®Œæ•´çš„æ–‡æ¡£å’Œç±»å‹æ³¨è§£

**è¿ç§»æ­¥éª¤ï¼š**
1. æå–å¯å¤ç”¨å‡½æ•°åˆ°libæ¨¡å—
2. æ·»åŠ å®Œæ•´çš„docstringæ–‡æ¡£
3. ç¼–å†™å¯¹åº”å•å…ƒæµ‹è¯•
4. æ›´æ–°`lib/__init__.py`å¯¼å…¥
5. æ›´æ–°ä½¿ç”¨è¯¥åŠŸèƒ½çš„è„šæœ¬

## ğŸ¯ é¡¹ç›®ç»´æŠ¤æŒ‡å—

### å®šæœŸæ¸…ç†ä»»åŠ¡
```bash
# æ¯å‘¨æ¸…ç†è¾“å‡ºç›®å½•
rm -rf output/*/  # æ¸…ç†æ—§çš„è¾“å‡ºç»“æœ
find . -name "*.csv" -path "./signals_*" -mtime +7 -delete  # æ¸…ç†ä¸€å‘¨å‰çš„ä¿¡å·æ–‡ä»¶

# æ¯æœˆå¤‡ä»½é‡è¦ç»“æœ  
cp cointegration_results.csv backup/
cp signals_complete_pipeline_latest.csv backup/
```

### å¸¸è§é—®é¢˜æ’æŸ¥

**Q: æ‰¾ä¸åˆ°æŸä¸ªåŠŸèƒ½åœ¨å“ªé‡Œå®ç°ï¼Ÿ**
A: æŸ¥çœ‹ä¸Šé¢çš„"æ–‡ä»¶å¯»æ‰¾æŒ‡å—"è¡¨æ ¼ï¼Œæ ¹æ®åŠŸèƒ½ç±»å‹æ‰¾åˆ°å¯¹åº”ä½ç½®

**Q: è¦æ·»åŠ æ–°çš„åˆ†æè„šæœ¬åº”è¯¥æ”¾åœ¨å“ªï¼Ÿ**
A: 
- å¦‚æœæ˜¯åæ•´ç›¸å…³ â†’ `scripts/analysis/`
- å¦‚æœæ˜¯ä¿¡å·ç”Ÿæˆç›¸å…³ â†’ `scripts/signals/`
- å¦‚æœæ˜¯å›æµ‹ç›¸å…³ â†’ `scripts/backtest/`
- å¦‚æœæ˜¯éªŒè¯æ¯”è¾ƒ â†’ `scripts/validation/`

**Q: ä»€ä¹ˆæ—¶å€™åº”è¯¥æŠŠä»£ç ä»scriptsç§»åˆ°libï¼Ÿ**
A: æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶è€ƒè™‘è¿ç§»ï¼š
1. è¢«3ä¸ªä»¥ä¸Šè„šæœ¬å¤ç”¨
2. ä»£ç ç¨³å®šè¿è¡Œ1ä¸ªæœˆä»¥ä¸Š
3. æœ‰å®Œæ•´çš„æµ‹è¯•è¦†ç›–
4. å±äºæ ¸å¿ƒä¸šåŠ¡é€»è¾‘

**Q: outputç›®å½•ä¸‹æ–‡ä»¶å¤ªå¤šæ€ä¹ˆåŠï¼Ÿ**
A: å®šæœŸæ¸…ç†ï¼Œåªä¿ç•™æœ€è¿‘çš„é‡è¦ç»“æœã€‚å¤§éƒ¨åˆ†outputå†…å®¹éƒ½å¯ä»¥é‡æ–°ç”Ÿæˆã€‚

### é¡¹ç›®ç»“æ„æ¼”è¿›è®°å½•
- **2025-08-23**: æ·»åŠ çŠ¶æ€æœºæµ‹è¯•ï¼Œæ•´ç†é¡¹ç›®ç»“æ„æ–‡æ¡£
- **2025-08-22**: å®ç°V2.1æµç¨‹ï¼Œä¼˜åŒ–Kalmanå‚æ•°
- **æ›´æ—©ç‰ˆæœ¬**: åŸºç¡€4æ¨¡å—æ¶æ„å»ºç«‹

---

**æ€»ç»“**: è¿™ä»½æ–‡æ¡£æä¾›äº†æ¸…æ™°çš„æ–‡ä»¶æ”¾ç½®æŒ‡å—ï¼Œå¸®åŠ©å¿«é€Ÿå®šä½æ‰€éœ€åŠŸèƒ½å’Œæ·»åŠ æ–°å†…å®¹ã€‚éµå¾ªè¿™äº›åŸåˆ™å¯ä»¥ä¿æŒé¡¹ç›®ç»“æ„æ•´æ´ä¸”æ˜“äºç»´æŠ¤ã€‚